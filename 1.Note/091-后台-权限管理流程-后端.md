# 091-后台-权限管理-后端

## 1.全局概览

![07 权限管理需求](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/07%20%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E9%9C%80%E6%B1%82.png)

* 菜单管理
* 角色管理
* 用户管理

## 2.数据库关系

* 上图

## 3.流程

- 后台首页登录，异步调用 `handleLogin()` 方法
  - ![image-20210627183825790](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210627183825790.png)
- `Login` 方法，其中调用 `login` 方法，请求后端 `/admin/acl/login`
  - ![image-20210627184708390](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210627184708390.png)
  - ![image-20210627184725482](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210627184725482.png)
- 后端 `SpringSecurity` 拦截器，确定登录路径，并认证授权 `attemptAuthentication`
  - ![image-20210627184954205](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210627184954205.png)
- 授权成功调用 `successfulAuthentication`，向前端返回 `token`
  - ![image-20210627185040457](https://raw.githubusercontent.com/TWDH/Leetcode-From-Zero/pictures/img/image-20210627185040457.png)



























